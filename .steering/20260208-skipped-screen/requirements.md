# Phase 4: 「食べない」選択フロー - 要求内容

## 変更・追加する機能の説明

カロリー推定結果画面で「Skip It」ボタンを押した際に、節制カロリーを記録してポジティブなメッセージを表示する画面を実装する。

### 主な機能
1. **ポジティブメッセージ表示**
   - ランダムに選択された励ましメッセージを大きく表示
   - 絵文字を活用した視覚的な祝福

2. **今回の節制カロリー表示**
   - 食べなかった食品の推定カロリーを強調表示
   - "You saved XXX kcal!" のようなポジティブな表現

3. **累計節制カロリー表示**
   - 今日の累計
   - 今週の累計
   - 今月の累計
   - 簡易グラフ（将来的に実装）

4. **ホームに戻るボタン**
   - ワンタップでホーム画面に戻る

---

## ユーザーストーリー

### ストーリー1: 節制の成功体験
**As a** フィットネス志向の女性
**I want to** 食べ物を我慢したときにポジティブなメッセージを受け取りたい
**So that** 罪悪感なく節制を継続できる

### ストーリー2: 進捗の可視化
**As a** 健康管理に興味のあるユーザー
**I want to** 累計節制カロリーを確認したい
**So that** 自分の努力を数値で実感できる

---

## 受け入れ条件

### 必須条件（Must Have）
- [ ] Result画面の「Skip It」ボタンを押すとSkipped画面に遷移する
- [ ] ポジティブメッセージが表示される（20種類以上のバリエーション）
- [ ] 今回の節制カロリーが大きく表示される
- [ ] 「Back to Home」ボタンでホーム画面に戻れる
- [ ] 米国フィットネス女性向けのデザイン（Mint Green #6BCB77をメインカラー）

### 推奨条件（Should Have）
- [ ] 累計節制カロリーを表示（今日/今週/今月）
- [ ] アニメーション（紙吹雪、拍手など）
- [ ] 累計データをローカルストレージに保存

### 将来的に実装（Nice to Have）
- [ ] グラフ表示（棒グラフ、折れ線グラフ）
- [ ] 達成バッジシステム
- [ ] SNSシェア機能

---

## 制約事項

### 技術的制約
1. **データ保存**
   - 現時点ではSupabase未実装のため、AsyncStorage（ローカルストレージ）を使用
   - Phase 7以降でSupabaseに移行予定

2. **メッセージの多様性**
   - 最低20種類のポジティブメッセージを用意
   - 米国英語で自然な表現を使用

3. **パフォーマンス**
   - 画面遷移は0.3秒以内
   - アニメーションは60fps維持

### デザイン制約
- カラーパレット: Mint Green (#6BCB77) をメインに使用
- フォント: システムフォント（fontFamily指定なし）
- 絵文字を積極的に活用

### 期限
- Phase 4完了目標: 2-3日以内

---

## データフロー

```
Result Screen (カロリー推定結果)
  ↓ (「Skip It」ボタン押下)
Skipped Screen
  - ポジティブメッセージ表示
  - 節制カロリー表示
  - 累計データ更新（AsyncStorage）
  ↓ (「Back to Home」ボタン押下)
Home Screen
```

---

## 関連ドキュメント
- [要件定義書](../../docs/requirements.md) - Phase 4セクション
- [CLAUDE.md](../../CLAUDE.md) - 技術スタック、デザインシステム
